<div class="fixed inset-0 z-50 bg-zinc-900/80 backdrop-blur-sm flex flex-col justify-center items-center p-4">

    <div class="w-full max-w-md bg-white rounded-2xl shadow-2xl p-4">

        <button (click)="onClose()" class="text-slate-400 cursor-pointer hover:text-slate-700 transition-colors p-1 rounded
             hover:bg-slate-200 absolute top-2 right-2 m-2 border flex justify-center items-center">
            <fa-icon [icon]="faClose" size="lg"></fa-icon>
        </button>

        <div class="relative w-full p-2">
            <form [ngClass]="modalSuccess() ? 'hidden' : 'flex'" class=" flex-col" [formGroup]="dataForm" (ngSubmit)="onSubmit()">
                <h2 class="text-lg font-semibold text-cyan-950 mb-2">Pesquisar pix:</h2>

                <input formControlName="key" class="w-full h-10 border border-cyan-600 rounded px-2 placeholder:text-zinc-400 
                placeholder:italic focus:outline-none focus:border-cyan-600 text-lg font-medium font-mono" type="text"
                    placeholder="email, telefone ou CPF" />
             
                   @if(error()){<p class="text-red-600">Chave naÌƒo encontrada</p>}
            
                <button type="submit">Pesquisar</button>    
            </form>

            <div [ngClass]="modalSuccess() ? 'block' : 'hidden'" class="mt-4">
                <div class="flex flex-col gap-2 px-2 py-4 bg-slate-200 rounded">
                    <div class="flex flex-col">
                        <p class="font-medium text-lg"><span
                                class="text-lg font-semibold text-cyan-950 mr-5">Nome:</span> {{accountFound()?.customer?.name}}</p>
                        <p class="font-medium text-lg"><span
                                class="text-lg font-semibold text-cyan-950 mr-5">Chave:</span> {{accountFound()?.pixKey}} </p>
                        <p class="font-medium text-lg"><span
                                class="text-lg font-semibold text-cyan-950 mr-5">CPF:</span> {{accountFound()?.customer?.cpf}}</p>
                         <p class="font-medium text-lg mt-2 bg-slate-300 py-2 px-1 rounded"><span
                                class="text-lg font-semibold text-cyan-950 mr-5">Saldo:</span> {{currentAccount()?.balance}}</p>
                    </div>
                    <h2 class="text-lg font-semibold text-cyan-950">Valor:</h2>
                    <input class="w-full h-10 border border-cyan-600 rounded px-2 placeholder:text-zinc-400 
                    placeholder:italic focus:outline-none focus:border-cyan-600 text-lg font-medium font-mono"
                        type="number" placeholder="R$ 0,00" />
                </div>
                <button
                    class="w-full mt-2 h-10 bg-cyan-700 border border-cyan-600 text-slate-50 rounded px-2 
                    hover:bg-cyan-600 hover:scale-105 hover:text-white duration-200 transition-all  text-lg font-medium tracking-wide cursor-pointer">
                    Transferir
                </button>
                
            </div>
            <div class="p-4 border-t border-slate-100 flex gap-3 bg-slate-50 hidden">
                    <button (click)="onClose()"
                        class="flex-1 cursor-pointer py-3 px-4 bg-white border border-slate-300 text-slate-700 font-medium rounded-xl hover:bg-slate-50 transition-colors">
                        Cancelar
                    </button>
                    <button type="submit"
                        class="flex-1 cursor-pointer py-3 px-4 bg-cyan-700 text-white font-bold rounded-xl hover:bg-cyan-800 shadow-lg shadow-cyan-700/30 transition-all transform active:scale-95">
                        Confirmar
                    </button>
                </div>
        </div>
    </div>
</div>